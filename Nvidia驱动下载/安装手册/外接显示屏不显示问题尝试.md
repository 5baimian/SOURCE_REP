#  NVIDIA 驱动
```
//完全卸载当前的 NVIDIA 驱动
sudo apt-get purge nvidia-*
//重新安装推荐的 NVIDIA 驱动
sudo ubuntu-drivers autoinstall

*注意：在重启之前要禁用开源驱动Nouveau(不然会冲突)
//创建一个禁用 nouveau 的配置文件
echo "blacklist nouveau" | sudo tee /etc/modprobe.d/blacklist-nouveau.conf
更新 initramfs
//sudo update-initramfs -u

//重启
reboot

//查看是否禁用成功
lsmod | grep nouveau  //无输出说明禁用成功
//查看nvidia驱动
lsmod | grep nvidia  //有输出说明加载

但是nvidia-smi无输出

//查看显卡是否识别
lspci | grep -i nvidia //正常有输出

//查看与nvidia驱动加载的相关消息
//dmesg 可以显示内核启动和驱动加载时的相关信息
sudo | grep -i nvidia //找到错误文件

[    4.330470] [drm:nv_drm_dev_load [nvidia_drm]] *ERROR* [nvidia-drm] [GPU ID 0x00000100] Failed to allocate NvKmsKapiDevice
[    4.330501] [drm:nv_drm_register_drm_device [nvidia_drm]] *ERROR* [nvidia-drm] [GPU ID 0x00000100] Failed to load device
[    4.400926] input: HDA NVidia HDMI/DP,pcm=7 as /devices/pci0000:00/0000:00:01.0/0000:01:00.1/sound/card0/input29


//linux内核版本与nvidia驱动不兼容
//查看内核版本
uname -r  //6.8.0-84-generic
//查看nvidia驱动版本
dpkg -l | grep nvidia  //NVIDIA 驱动版本为 580.65.06


```


